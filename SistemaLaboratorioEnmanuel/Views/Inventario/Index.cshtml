<!--Este es el Index de Insumos-->
@model List<SistemaLaboratorioEnmanuel.Models.sp_Insumos_Result>
@{
    Layout = "~/Views/Shared/_LayoutDashboard.cshtml";
}
<div class="row">
    <div class="col-12">
        <!-- Inicio Encabezado -->
        <div class="card-plantilla">
            <div class="card-header-plantilla">
                <h1 class="card-titulo-plantilla">Insumos</h1>
            </div>
        </div><!-- Fin encabezado -->
        <!-- Inicio Barra Busqueda -->
        <!--<div class="barra-busqueda col-sm-12">
            <div class="input-group">
                <input class="form-control" type="text" id="txtNombre" tabindex="1" placeholder="Buscar Insumo" />
                <button class="btn btn-primary btn-personalizados me-1 bi-search" id="btnBuscarInsumo" tabindex="2"> </button>
                <button class="btn btn-primary btn-personalizados bi-eraser-fill" id="btnLimpiar" tabindex="3"> </button>
            </div>
        </div>--> <!-- Fin barra busqueda -->
        <!-- Inicio head tabla -->
        <div class="head-table col-sm-12">
            <div class="input-group head-table" style="float: right">
                @*<a class="btn btn-primary me-1" href="@Url.Action("GenerarExcel", "Insumo")" style="background: #1f7b2d">Excel <span class="bi bi-file-earmark-ruled-fill"></span></a>*@
                @*<a class="btn btn-primary" href="@Url.Action("GenerarExcel", "Insumo")" style="background: #d63031 ">PDF <span class="bi bi-file-earmark-pdf-fill"></span></a>*@


                <a href="@Url.Action("Create")" class="btn btn-primary btn-personalizados float-end">
                    Agregar
                </a>

            </div>
        </div> <!-- Fin head tabla -->
    </div>
</div>

@Html.Partial("Modales/ModalDetalleFactura")
<form action="@Url.Action("AgregarEntada")" method="post">
    @Html.Partial("Modales/ModalAgregarEntradaInsumo")
    <input name="IdInsumo" type="hidden" value="" id="IdInsumo" />
</form>
@Html.Partial("Modales/ModalDetalleInventario")

<!-------------------------------------Nueva Implementacion------------------------------------>
<section class="section pt-2">
    <div class="row">
        <div class="col-lg-12">
            <div class="card p-4">
                <div class="card-body">
                    <div class="table-responsive-sm">
                        <table id="datatable_inventario" class="table table-hover table-bordered">
                            <thead>
                                <tr class="text-dark text">
                                    <th scope="col">Nombre</th>
                                    <th scope="col">Descripción</th>
                                    <th scope="col">Proveedor</th>
                                    <th scope="col">Presentación</th>
                                    <th scope="col">Stock</th>
                                    <th scope="col">Acciones</th>
                                </tr>
                            </thead>
                            <tbody>
                                @foreach (var item in Model)
                                {
                                    <tr>
                                        <td class="">@item.Nombre</td>
                                        <td class="">@item.Descripcion</td>
                                        <td class="">@item.Proveedor</td>
                                        <td class="">@item.Presentacion @item.UnidadMedida</td>
                                        <td class="">@item.Stock</td>
                                        <td class="">
                                            <button class="btn btn-sm btn-primary btn-personalizados" onclick="ModalClick(@item.Id)" id="btnAgregarEntrada" data-bs-toggle="modal" data-bs-target="#abrirModalEntradaInv"><i class="bi bi-cart-plus"></i></button>
                                            <button class="btn btn-sm btn-success" onclick="ModalDetalleInv(@item.Stock,@item.Sobrante,  @String.Concat("'",item.UnidadMedida,"'"))" id="btnDetalleInv" data-bs-toggle="modal" data-bs-target="#abrirModalDetalleInv"><i class="bi bi-droplet-half"></i></button>
                                        </td>


                                    </tr>
                                }
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>



<script src="~/Scripts/Inventario/Inventario.js"></script>

<script>

</script>




